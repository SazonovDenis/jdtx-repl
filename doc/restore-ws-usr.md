## Руководство пользователя по восстановлению базы с сервера


Если рабочая станция (база и каталоги репликации) полностью утеряны, то можно восстановить базу и структуры репликации.


#### Шаги

- На рабочей станции готовится пустая база нужной структуры.

- На рабочей станции инициализируется репликация. Выполняется команда `jc repl-create` с нужными параметрами 
  (нужный код рабочей стации, как если бы она создавалась с нуля), например:
  ~~~
  jc repl-create -ws:15 -guid:FBEA2A173BA082C0.Anet2-1507BFE44284DDA8 -file:"cfg/ws.json"
  ~~~

- На рабочей станции выполняется команда `jc repl-repair-backup`.

- На сервере выполняется команда `jc repl-restore-ws` с нужными параметрами, например:
  ~~~
  jc repl-restore-ws -ws:15 -cfg_snapshot:cfg\publication_lic_194_snapshot.json
  ~~~

- Запускаем репликацию на рабочей станции, ждем ее завершения.


#### Рассуждения

При восстановлении станции в снимок для неё нужно отправить не только то, что станция может ПОЛУЧИТЬ по правилам "in"
но и то, что она сама отправила (а это может отфильтровываться по правилам in),
Например, если станция отправляет заказы только вверх, то при получении снимка она не должна получить
ВСЕ заказы без разбора - иначе там будут чужие заказы.
С другой стороны, СВОИ заказы (ранее отправленные, до сбоя) станция должна получить.

Формируем правила snapshot для станции
из правил "in", и комбнации правил "out" с фильтром по автору (условием "RECORD_OWNER_ID == наша станция")
